{"ast":null,"code":"import React,{useState}from\"react\";import{AppBar,Toolbar,IconButton,Menu,MenuItem,Typography,Box,Button,useTheme,useMediaQuery}from\"@mui/material\";import MenuIcon from\"@mui/icons-material/Menu\";import{Link}from\"react-router-dom\";import{jsx as _jsx,Fragment as _Fragment,jsxs as _jsxs}from\"react/jsx-runtime\";function HeaderMenu(_ref){let{userRole,onLoginClick,isAdmin,isSuperAdmin}=_ref;const[anchorEl,setAnchorEl]=useState(null);const theme=useTheme();const isMobile=useMediaQuery(theme.breakpoints.down(\"md\"));const handleMenuOpen=event=>{setAnchorEl(event.currentTarget);};const handleMenuClose=()=>{setAnchorEl(null);};const hasAdminAccess=isAdmin||isSuperAdmin;const hasSuperAdminAccess=isSuperAdmin;return/*#__PURE__*/_jsx(AppBar,{position:\"static\",sx:{backgroundColor:\"#2a2f4a\",boxShadow:\"0 2px 6px rgba(0,0,0,0.3)\"},children:/*#__PURE__*/_jsxs(Toolbar,{sx:{maxWidth:1200,margin:\"0 auto\",width:\"100%\"},children:[/*#__PURE__*/_jsx(Typography,{variant:\"h5\",component:Link,to:\"/\",sx:{flexGrow:1,fontWeight:\"bold\",color:\"#f2a365\",textDecoration:\"none\",letterSpacing:1,\"&:hover\":{color:\"#d18c4a\"}},children:\"\\u0421\\u043F\\u0438\\u0441\\u043E\\u043A \\u043E\\u0448\\u0438\\u0431\\u043E\\u043A\"}),isMobile?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(IconButton,{color:\"inherit\",onClick:handleMenuOpen,\"aria-label\":\"menu\",sx:{color:\"#f2a365\"},children:/*#__PURE__*/_jsx(MenuIcon,{})}),/*#__PURE__*/_jsxs(Menu,{anchorEl:anchorEl,open:Boolean(anchorEl),onClose:handleMenuClose,PaperProps:{sx:{backgroundColor:\"#2a2f4a\"}},children:[!hasAdminAccess&&!userRole&&/*#__PURE__*/_jsx(MenuItem,{onClick:()=>{handleMenuClose();onLoginClick();},sx:{color:\"#f2a365\",\"&:hover\":{backgroundColor:\"#34495e\"}},children:\"\\u0410\\u0432\\u0442\\u043E\\u0440\\u0438\\u0437\\u0430\\u0446\\u0438\\u044F\"}),isSuperAdmin&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(MenuItem,{component:Link,to:\"/users\",onClick:handleMenuClose,sx:{color:\"#f2a365\",\"&:hover\":{backgroundColor:\"#34495e\"}},children:\"\\u041F\\u043E\\u043B\\u044C\\u0437\\u043E\\u0432\\u0430\\u0442\\u0435\\u043B\\u0438\"}),isSuperAdmin&&/*#__PURE__*/_jsx(MenuItem,{component:Link,to:\"/admin/logs\",onClick:handleMenuClose,sx:{color:\"#f2a365\",\"&:hover\":{backgroundColor:\"#34495e\"}},children:\"\\u041B\\u043E\\u0433\\u0438\"}),/*#__PURE__*/_jsx(MenuItem,{component:Link,to:\"/admin/orphaned-images\",onClick:handleMenuClose,sx:{color:\"#f2a365\",\"&:hover\":{backgroundColor:\"#34495e\"}},children:\"\\u0418\\u0437\\u043E\\u0431\\u0440\\u0430\\u0436\\u0435\\u043D\\u0438\\u044F\"})]}),/*#__PURE__*/_jsx(MenuItem,{component:Link,to:\"/admin/errors\",onClick:handleMenuClose,sx:{color:\"#f2a365\",\"&:hover\":{backgroundColor:\"#34495e\"}},children:\"\\u041E\\u0448\\u0438\\u0431\\u043A\\u0438\"})]})]}):/*#__PURE__*/_jsxs(Box,{sx:{display:\"flex\",gap:3},children:[!hasAdminAccess&&!userRole&&/*#__PURE__*/_jsx(Button,{color:\"inherit\",onClick:onLoginClick,sx:{fontWeight:\"bold\",fontSize:\"1rem\",color:\"#f2a365\"},children:\"\\u0410\\u0432\\u0442\\u043E\\u0440\\u0438\\u0437\\u0430\\u0446\\u0438\\u044F\"}),hasAdminAccess&&/*#__PURE__*/_jsxs(_Fragment,{children:[isSuperAdmin&&/*#__PURE__*/_jsx(Button,{color:\"inherit\",component:Link,to:\"/users\",sx:{fontWeight:\"bold\",fontSize:\"1rem\",color:\"#f2a365\",\"&:hover\":{color:\"#d18c4a\"}},children:\"\\u041F\\u043E\\u043B\\u044C\\u0437\\u043E\\u0432\\u0430\\u0442\\u0435\\u043B\\u0438\"}),isSuperAdmin&&/*#__PURE__*/_jsx(Button,{color:\"inherit\",component:Link,to:\"/admin/logs\",sx:{fontWeight:\"bold\",fontSize:\"1rem\",color:\"#f2a365\",\"&:hover\":{color:\"#d18c4a\"}},children:\"\\u041B\\u043E\\u0433\\u0438\"}),/*#__PURE__*/_jsx(Button,{color:\"inherit\",component:Link,to:\"/admin/errors\",sx:{fontWeight:\"bold\",fontSize:\"1rem\",color:\"#f2a365\",\"&:hover\":{color:\"#d18c4a\"}},children:\"\\u041E\\u0448\\u0438\\u0431\\u043A\\u0438\"}),\")}\",isSuperAdmin&&/*#__PURE__*/_jsx(Button,{color:\"inherit\",component:Link,to:\"/admin/orphaned-images\",sx:{fontWeight:\"bold\",fontSize:\"1rem\",color:\"#f2a365\",\"&:hover\":{color:\"#d18c4a\"}},children:\"\\u0418\\u0437\\u043E\\u0431\\u0440\\u0430\\u0436\\u0435\\u043D\\u0438\\u044F\"})]})]})]})});}export default HeaderMenu;","map":{"version":3,"names":["React","useState","AppBar","Toolbar","IconButton","Menu","MenuItem","Typography","Box","Button","useTheme","useMediaQuery","MenuIcon","Link","jsx","_jsx","Fragment","_Fragment","jsxs","_jsxs","HeaderMenu","_ref","userRole","onLoginClick","isAdmin","isSuperAdmin","anchorEl","setAnchorEl","theme","isMobile","breakpoints","down","handleMenuOpen","event","currentTarget","handleMenuClose","hasAdminAccess","hasSuperAdminAccess","position","sx","backgroundColor","boxShadow","children","maxWidth","margin","width","variant","component","to","flexGrow","fontWeight","color","textDecoration","letterSpacing","onClick","open","Boolean","onClose","PaperProps","display","gap","fontSize"],"sources":["C:/Project/Errors/fastapi_directory/frontend/src/components/HeaderMenu.js"],"sourcesContent":["import React, { useState } from \"react\";\r\nimport { AppBar, Toolbar, IconButton, Menu, MenuItem, Typography, Box, Button, useTheme, useMediaQuery } from \"@mui/material\";\r\nimport MenuIcon from \"@mui/icons-material/Menu\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nfunction HeaderMenu({ userRole, onLoginClick, isAdmin, isSuperAdmin }) {\r\n  const [anchorEl, setAnchorEl] = useState(null);\r\n  const theme = useTheme();\r\n  const isMobile = useMediaQuery(theme.breakpoints.down(\"md\"));\r\n\r\n  const handleMenuOpen = (event) => {\r\n    setAnchorEl(event.currentTarget);\r\n  };\r\n\r\n  const handleMenuClose = () => {\r\n    setAnchorEl(null);\r\n  };\r\n\r\n  const hasAdminAccess = isAdmin || isSuperAdmin;\r\n  const hasSuperAdminAccess = isSuperAdmin;\r\n\r\n  return (\r\n    <AppBar position=\"static\" sx={{ backgroundColor: \"#2a2f4a\", boxShadow: \"0 2px 6px rgba(0,0,0,0.3)\" }}>\r\n      <Toolbar sx={{ maxWidth: 1200, margin: \"0 auto\", width: \"100%\" }}>\r\n        <Typography\r\n          variant=\"h5\"\r\n          component={Link}\r\n          to=\"/\"\r\n          sx={{\r\n            flexGrow: 1,\r\n            fontWeight: \"bold\",\r\n            color: \"#f2a365\",\r\n            textDecoration: \"none\",\r\n            letterSpacing: 1,\r\n            \"&:hover\": { color: \"#d18c4a\" },\r\n          }}\r\n        >\r\n          Список ошибок\r\n        </Typography>\r\n        {isMobile ? (\r\n          <>\r\n            <IconButton color=\"inherit\" onClick={handleMenuOpen} aria-label=\"menu\" sx={{ color: \"#f2a365\" }}>\r\n              <MenuIcon />\r\n            </IconButton>\r\n            <Menu\r\n              anchorEl={anchorEl}\r\n              open={Boolean(anchorEl)}\r\n              onClose={handleMenuClose}\r\n              PaperProps={{ sx: { backgroundColor: \"#2a2f4a\" } }}\r\n            >\r\n              {(!hasAdminAccess && !userRole) && (\r\n                <MenuItem\r\n                  onClick={() => {\r\n                    handleMenuClose();\r\n                    onLoginClick();\r\n                  }}\r\n                  sx={{ color: \"#f2a365\", \"&:hover\": { backgroundColor: \"#34495e\" } }}\r\n                >\r\n                  Авторизация\r\n                </MenuItem>\r\n              )}\r\n              {isSuperAdmin && (\r\n                <>\r\n                  <MenuItem component={Link} to=\"/users\" onClick={handleMenuClose} sx={{ color: \"#f2a365\", \"&:hover\": { backgroundColor: \"#34495e\" } }}>\r\n                    Пользователи\r\n                  </MenuItem>\r\n                  {isSuperAdmin && (\r\n                    <MenuItem component={Link} to=\"/admin/logs\" onClick={handleMenuClose} sx={{ color: \"#f2a365\", \"&:hover\": { backgroundColor: \"#34495e\" } }}>\r\n                      Логи\r\n                    </MenuItem>\r\n                  )}\r\n                    <MenuItem component={Link} to=\"/admin/orphaned-images\" onClick={handleMenuClose} sx={{ color: \"#f2a365\", \"&:hover\": { backgroundColor: \"#34495e\" } }}>\r\n                      Изображения\r\n                    </MenuItem>\r\n                </>\r\n              )}\r\n                  <MenuItem component={Link} to=\"/admin/errors\" onClick={handleMenuClose} sx={{ color: \"#f2a365\", \"&:hover\": { backgroundColor: \"#34495e\" } }}>\r\n                    Ошибки\r\n                  </MenuItem>\r\n            </Menu>\r\n          </>\r\n        ) : (\r\n          <Box sx={{ display: \"flex\", gap: 3 }}>\r\n            {(!hasAdminAccess && !userRole) && (\r\n              <Button color=\"inherit\" onClick={onLoginClick} sx={{ fontWeight: \"bold\", fontSize: \"1rem\", color: \"#f2a365\" }}>\r\n                Авторизация\r\n              </Button>\r\n            )}\r\n            {hasAdminAccess && (\r\n              <>\r\n              {isSuperAdmin && (\r\n                <Button\r\n                  color=\"inherit\"\r\n                  component={Link}\r\n                  to=\"/users\"\r\n                  sx={{ fontWeight: \"bold\", fontSize: \"1rem\", color: \"#f2a365\", \"&:hover\": { color: \"#d18c4a\" } }}\r\n                >\r\n                  Пользователи\r\n                </Button>\r\n              )}\r\n                {isSuperAdmin && (\r\n                  <Button\r\n                    color=\"inherit\"\r\n                    component={Link}\r\n                    to=\"/admin/logs\"\r\n                    sx={{ fontWeight: \"bold\", fontSize: \"1rem\", color: \"#f2a365\", \"&:hover\": { color: \"#d18c4a\" } }}\r\n                  >\r\n                    Логи\r\n                  </Button>\r\n                )}\r\n                <Button\r\n                  color=\"inherit\"\r\n                  component={Link}\r\n                  to=\"/admin/errors\"\r\n                  sx={{ fontWeight: \"bold\", fontSize: \"1rem\", color: \"#f2a365\", \"&:hover\": { color: \"#d18c4a\" } }}\r\n                >\r\n                  Ошибки\r\n                </Button>\r\n                )}\r\n                {isSuperAdmin && (\r\n                  <Button\r\n                    color=\"inherit\"\r\n                    component={Link}\r\n                    to=\"/admin/orphaned-images\"\r\n                    sx={{ fontWeight: \"bold\", fontSize: \"1rem\", color: \"#f2a365\", \"&:hover\": { color: \"#d18c4a\" } }}\r\n                  >\r\n                    Изображения\r\n                  </Button>\r\n                )}\r\n              </>\r\n            )}\r\n          </Box>\r\n        )}\r\n      </Toolbar>\r\n    </AppBar>\r\n  );\r\n}\r\n\r\nexport default HeaderMenu;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}