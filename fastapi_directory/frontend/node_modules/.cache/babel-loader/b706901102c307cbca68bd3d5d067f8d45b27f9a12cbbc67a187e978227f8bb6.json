{"ast":null,"code":"var _jsxFileName = \"F:\\\\Progect\\\\Errors\\\\fastapi_directory\\\\frontend\\\\src\\\\components\\\\AdminPanelErrors.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState, useRef } from 'react';\nimport { Accordion, AccordionSummary, AccordionDetails, Typography, Button, Dialog, DialogTitle, DialogContent, DialogActions, TextField, IconButton, Box, List, ListItem, ListItemText } from '@mui/material';\nimport ExpandMoreIcon from '@mui/icons-material/ExpandMore';\nimport DeleteIcon from '@mui/icons-material/Delete';\nimport EditIcon from '@mui/icons-material/Edit';\nimport axios from 'axios';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst API_BASE_URL = `${process.env.REACT_APP_API_BASE_URL}/api`;\nfunction AdminPanelErrors({\n  token\n}) {\n  _s();\n  const [errors, setErrors] = useState([]);\n  const [loading, setLoading] = useState(false);\n  const [errorMsg, setErrorMsg] = useState('');\n  const [modalOpen, setModalOpen] = useState(false);\n  const [editingError, setEditingError] = useState(null);\n  const [errorName, setErrorName] = useState('');\n  const [description, setDescription] = useState('');\n  const [solutionDescription, setSolutionDescription] = useState('');\n  const [imageFiles, setImageFiles] = useState([]);\n  const maxImages = 5;\n  const inputFileRef = useRef(null);\n  useEffect(() => {\n    loadErrors();\n  }, []);\n  useEffect(() => {\n    if (modalOpen) {\n      window.addEventListener('paste', handlePaste);\n    } else {\n      window.removeEventListener('paste', handlePaste);\n    }\n    return () => {\n      window.removeEventListener('paste', handlePaste);\n    };\n  }, [modalOpen, imageFiles]);\n  const loadErrors = async () => {\n    setLoading(true);\n    setErrorMsg('');\n    try {\n      const response = await axios.get(`${API_BASE_URL}/errors/`, {\n        headers: {\n          Authorization: `Bearer ${token}`\n        }\n      });\n      setErrors(response.data);\n    } catch (err) {\n      setErrorMsg(`Ошибка при загрузке ошибок: ${err.message}`);\n    } finally {\n      setLoading(false);\n    }\n  };\n  const handleOpenModal = () => {\n    setEditingError(null);\n    setErrorName('');\n    setDescription('');\n    setSolutionDescription('');\n    setImageFiles([]);\n    setErrorMsg('');\n    setModalOpen(true);\n  };\n  const handleCloseModal = () => {\n    setModalOpen(false);\n  };\n  const handleFileChange = e => {\n    const files = Array.from(e.target.files);\n    if (files.length + imageFiles.length > maxImages) {\n      alert(`Можно загрузить не более ${maxImages} изображений`);\n      return;\n    }\n    setImageFiles(prev => [...prev, ...files]);\n  };\n  const removeImageFile = index => {\n    setImageFiles(prev => prev.filter((_, i) => i !== index));\n  };\n  const handlePaste = event => {\n    if (!modalOpen) return;\n    const items = event.clipboardData.items;\n    const filesFromPaste = [];\n    for (let i = 0; i < items.length; i++) {\n      const item = items[i];\n      if (item.kind === 'file') {\n        const file = item.getAsFile();\n        if (file && (file.type === 'image/png' || file.type === 'image/jpeg' || file.type === 'image/jpg')) {\n          filesFromPaste.push(file);\n        }\n      }\n    }\n    if (filesFromPaste.length > 0) {\n      if (filesFromPaste.length + imageFiles.length > maxImages) {\n        alert(`Можно загрузить не более ${maxImages} изображений`);\n        return;\n      }\n      setImageFiles(prev => [...prev, ...filesFromPaste]);\n    }\n  };\n  const uploadNewImages = async errorId => {\n    for (const file of imageFiles) {\n      const formData = new FormData();\n      formData.append('file', file);\n      try {\n        await axios.post(`${API_BASE_URL}/errors/${errorId}/images/`, formData, {\n          headers: {\n            Authorization: `Bearer ${token}`,\n            'Content-Type': 'multipart/form-data'\n          }\n        });\n      } catch (err) {\n        console.error('Ошибка при загрузке изображения:', err);\n        throw err;\n      }\n    }\n  };\n  const handleSubmit = async () => {\n    setErrorMsg('');\n    if (!errorName.trim()) {\n      setErrorMsg('Название ошибки обязательно');\n      return;\n    }\n    if (!editingError && imageFiles.length === 0) {\n      setErrorMsg('Необходимо загрузить хотя бы одно изображение');\n      return;\n    }\n    try {\n      if (editingError) {\n        var _editingError$images;\n        // Update error details without images\n        const response = await axios.put(`${API_BASE_URL}/errors/${editingError.id}`, {\n          name: errorName,\n          description,\n          solution_description: solutionDescription,\n          images: ((_editingError$images = editingError.images) === null || _editingError$images === void 0 ? void 0 : _editingError$images.map(img => img.image_url)) || []\n        }, {\n          headers: {\n            Authorization: `Bearer ${token}`\n          }\n        });\n        // Upload new images if any\n        if (imageFiles.length > 0) {\n          await uploadNewImages(editingError.id);\n          // Reload updated error with images\n          const updatedErrorResponse = await axios.get(`${API_BASE_URL}/errors/${editingError.id}`, {\n            headers: {\n              Authorization: `Bearer ${token}`\n            }\n          });\n          setErrors(errors.map(err => err.id === editingError.id ? updatedErrorResponse.data : err));\n        } else {\n          setErrors(errors.map(err => err.id === editingError.id ? response.data : err));\n        }\n      } else {\n        // Create new error with images\n        const formData = new FormData();\n        formData.append('name', errorName);\n        formData.append('description', description);\n        formData.append('solution_description', solutionDescription);\n        imageFiles.forEach(file => {\n          formData.append('files', file);\n        });\n        const config = {\n          headers: {\n            Authorization: `Bearer ${token}`\n          }\n        };\n        const response = await axios.post(`${API_BASE_URL}/errors/`, formData, config);\n        setErrors([...errors, response.data]);\n      }\n      setImageFiles([]);\n      handleCloseModal();\n    } catch (err) {\n      if (err.response) {\n        const detail = typeof err.response.data.detail === 'string' ? err.response.data.detail : JSON.stringify(err.response.data.detail);\n        setErrorMsg(`Ошибка при сохранении ошибки: ${err.response.status} ${detail || err.response.statusText}`);\n      } else if (err.request) {\n        setErrorMsg('Ошибка: сервер не отвечает');\n      } else {\n        setErrorMsg(`Ошибка: ${err.message}`);\n      }\n    }\n  };\n  const handleEdit = err => {\n    setEditingError(err);\n    setErrorName(err.name);\n    setDescription(err.description || '');\n    setSolutionDescription(err.solution_description || '');\n    setImageFiles([]);\n    setErrorMsg('');\n    setModalOpen(true);\n  };\n  const handleDeleteImage = async imageId => {\n    if (!window.confirm('Вы уверены, что хотите удалить это изображение?')) return;\n    try {\n      await axios.delete(`${API_BASE_URL}/errors/images/${imageId}`, {\n        headers: {\n          Authorization: `Bearer ${token}`\n        }\n      });\n      if (editingError) {\n        const newImages = editingError.images.filter(img => img.id !== imageId);\n        setEditingError({\n          ...editingError,\n          images: newImages\n        });\n      }\n    } catch (err) {\n      alert('Ошибка при удалении изображения');\n    }\n  };\n  const handleDelete = async id => {\n    if (!window.confirm('Вы уверены, что хотите удалить ошибку?')) return;\n    setErrorMsg('');\n    try {\n      await axios.delete(`${API_BASE_URL}/errors/${id}`, {\n        headers: {\n          Authorization: `Bearer ${token}`\n        }\n      });\n      setErrors(errors.filter(err => err.id !== id));\n    } catch (err) {\n      if (err.response) {\n        setErrorMsg(`Ошибка при удалении ошибки: ${err.response.status} ${err.response.data.detail || err.response.statusText}`);\n      } else if (err.request) {\n        setErrorMsg('Ошибка: сервер не отвечает');\n      } else {\n        setErrorMsg(`Ошибка: ${err.message}`);\n      }\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(Box, {\n    sx: {\n      width: '100%',\n      maxWidth: 800,\n      margin: 'auto',\n      mt: 4\n    },\n    children: [/*#__PURE__*/_jsxDEV(Typography, {\n      variant: \"h4\",\n      gutterBottom: true,\n      children: \"\\u0423\\u043F\\u0440\\u0430\\u0432\\u043B\\u0435\\u043D\\u0438\\u0435 \\u043E\\u0448\\u0438\\u0431\\u043A\\u0430\\u043C\\u0438\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 245,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Button, {\n      variant: \"contained\",\n      color: \"primary\",\n      onClick: handleOpenModal,\n      sx: {\n        mb: 2\n      },\n      children: \"\\u0414\\u043E\\u0431\\u0430\\u0432\\u0438\\u0442\\u044C \\u043E\\u0448\\u0438\\u0431\\u043A\\u0443\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 246,\n      columnNumber: 7\n    }, this), errorMsg && /*#__PURE__*/_jsxDEV(Typography, {\n      sx: {\n        mb: 2,\n        whiteSpace: 'pre-wrap',\n        color: '#ff6b6b'\n      },\n      children: errorMsg\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 249,\n      columnNumber: 20\n    }, this), loading ? /*#__PURE__*/_jsxDEV(Typography, {\n      sx: {\n        color: '#eaeaea'\n      },\n      children: \"\\u0417\\u0430\\u0433\\u0440\\u0443\\u0437\\u043A\\u0430...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 251,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n      children: errors.length === 0 ? /*#__PURE__*/_jsxDEV(Typography, {\n        sx: {\n          color: '#eaeaea'\n        },\n        children: \"\\u0421\\u043F\\u0438\\u0441\\u043E\\u043A \\u043E\\u0448\\u0438\\u0431\\u043E\\u043A \\u043F\\u0443\\u0441\\u0442\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 255,\n        columnNumber: 13\n      }, this) : errors.map(err => /*#__PURE__*/_jsxDEV(Accordion, {\n        sx: {\n          bgcolor: '#1b1f33',\n          color: '#eaeaea',\n          mb: 1,\n          border: '1px solid #84a59d'\n        },\n        children: [/*#__PURE__*/_jsxDEV(AccordionSummary, {\n          expandIcon: /*#__PURE__*/_jsxDEV(ExpandMoreIcon, {\n            sx: {\n              color: '#f2a365'\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 260,\n            columnNumber: 31\n          }, this),\n          sx: {\n            display: 'flex',\n            alignItems: 'center',\n            justifyContent: 'space-between'\n          },\n          children: [/*#__PURE__*/_jsxDEV(Typography, {\n            sx: {\n              flexGrow: 1\n            },\n            children: err.name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 263,\n            columnNumber: 19\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            onClick: e => e.stopPropagation(),\n            onFocus: e => e.stopPropagation(),\n            children: [/*#__PURE__*/_jsxDEV(IconButton, {\n              \"aria-label\": \"edit\",\n              onClick: () => handleEdit(err),\n              sx: {\n                color: '#84a59d'\n              },\n              children: /*#__PURE__*/_jsxDEV(EditIcon, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 266,\n                columnNumber: 23\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 265,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(IconButton, {\n              \"aria-label\": \"delete\",\n              onClick: () => handleDelete(err.id),\n              sx: {\n                color: '#f2a365'\n              },\n              children: /*#__PURE__*/_jsxDEV(DeleteIcon, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 269,\n                columnNumber: 23\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 268,\n              columnNumber: 21\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 264,\n            columnNumber: 19\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 259,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(AccordionDetails, {\n          children: [/*#__PURE__*/_jsxDEV(Typography, {\n            sx: {\n              whiteSpace: 'pre-wrap'\n            },\n            children: err.description\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 274,\n            columnNumber: 19\n          }, this), err.images && err.images.length > 0 && /*#__PURE__*/_jsxDEV(Box, {\n            sx: {\n              display: 'flex',\n              flexWrap: 'wrap',\n              gap: 1,\n              mt: 1\n            },\n            children: err.images.map(img => /*#__PURE__*/_jsxDEV(Box, {\n              sx: {\n                position: 'relative',\n                display: 'inline-block'\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"img\", {\n                src: `${API_BASE_URL.replace('/api', '')}${img.image_url}`,\n                alt: `Error illustration ${img.id}`,\n                style: {\n                  maxWidth: '30%',\n                  maxHeight: 200,\n                  objectFit: 'contain'\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 279,\n                columnNumber: 27\n              }, this), /*#__PURE__*/_jsxDEV(IconButton, {\n                size: \"small\",\n                \"aria-label\": \"delete image\",\n                sx: {\n                  position: 'absolute',\n                  top: 0,\n                  right: 0,\n                  backgroundColor: 'rgba(255,255,255,0.7)',\n                  '&:hover': {\n                    backgroundColor: 'rgba(255,0,0,0.8)',\n                    color: 'white'\n                  }\n                },\n                onClick: () => handleDeleteImage(img.id),\n                children: /*#__PURE__*/_jsxDEV(DeleteIcon, {\n                  fontSize: \"small\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 296,\n                  columnNumber: 29\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 284,\n                columnNumber: 27\n              }, this)]\n            }, img.id, true, {\n              fileName: _jsxFileName,\n              lineNumber: 278,\n              columnNumber: 25\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 276,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(Typography, {\n            sx: {\n              fontStyle: 'italic',\n              color: '#84a59d',\n              mt: 2\n            },\n            children: [\"\\u0420\\u0435\\u0448\\u0435\\u043D\\u0438\\u0435: \", err.solution_description || 'Нет описания решения']\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 302,\n            columnNumber: 19\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 273,\n          columnNumber: 17\n        }, this)]\n      }, err.id, true, {\n        fileName: _jsxFileName,\n        lineNumber: 258,\n        columnNumber: 15\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 253,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(Dialog, {\n      open: modalOpen,\n      onClose: handleCloseModal,\n      maxWidth: \"sm\",\n      fullWidth: true,\n      PaperProps: {\n        sx: {\n          bgcolor: '#2a2f4a',\n          color: '#eaeaea'\n        }\n      },\n      children: [/*#__PURE__*/_jsxDEV(DialogTitle, {\n        sx: {\n          color: '#f2a365'\n        },\n        children: editingError ? 'Редактировать ошибку' : 'Добавить ошибку'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 313,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(DialogContent, {\n        children: [/*#__PURE__*/_jsxDEV(TextField, {\n          autoFocus: true,\n          margin: \"dense\",\n          label: \"\\u041D\\u0430\\u0437\\u0432\\u0430\\u043D\\u0438\\u0435 \\u043E\\u0448\\u0438\\u0431\\u043A\\u0438 *\\u043E\\u0431\\u044F\\u0437\\u0430\\u0442\\u0435\\u043B\\u044C\\u043D\\u043E\\u0435 \\u043F\\u043E\\u043B\\u0435\",\n          fullWidth: true,\n          value: errorName,\n          onChange: e => setErrorName(e.target.value),\n          required: true,\n          InputLabelProps: {\n            sx: {\n              color: '#f2a365'\n            }\n          },\n          InputProps: {\n            sx: {\n              color: '#eaeaea'\n            }\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 315,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(TextField, {\n          margin: \"dense\",\n          label: \"\\u041E\\u043F\\u0438\\u0441\\u0430\\u043D\\u0438\\u0435 \\u043E\\u0448\\u0438\\u0431\\u043A\\u0438\",\n          fullWidth: true,\n          multiline: true,\n          rows: 4,\n          value: description,\n          onChange: e => setDescription(e.target.value),\n          InputLabelProps: {\n            sx: {\n              color: '#f2a365'\n            }\n          },\n          InputProps: {\n            sx: {\n              color: '#eaeaea'\n            }\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 326,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(TextField, {\n          margin: \"dense\",\n          label: \"\\u041E\\u043F\\u0438\\u0441\\u0430\\u043D\\u0438\\u0435 \\u0440\\u0435\\u0448\\u0435\\u043D\\u0438\\u044F\",\n          fullWidth: true,\n          multiline: true,\n          rows: 3,\n          value: solutionDescription,\n          onChange: e => setSolutionDescription(e.target.value),\n          InputLabelProps: {\n            sx: {\n              color: '#f2a365'\n            }\n          },\n          InputProps: {\n            sx: {\n              color: '#eaeaea'\n            }\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 337,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"file\",\n          multiple: true,\n          accept: \".png,.jpg,.jpeg\",\n          onChange: handleFileChange,\n          style: {\n            marginTop: 16,\n            color: '#eaeaea'\n          },\n          ref: inputFileRef\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 348,\n          columnNumber: 11\n        }, this), imageFiles.length > 0 && /*#__PURE__*/_jsxDEV(List, {\n          children: imageFiles.map((file, index) => /*#__PURE__*/_jsxDEV(ListItem, {\n            secondaryAction: /*#__PURE__*/_jsxDEV(IconButton, {\n              edge: \"end\",\n              \"aria-label\": \"delete\",\n              onClick: () => removeImageFile(index),\n              sx: {\n                color: '#f2a365'\n              },\n              children: /*#__PURE__*/_jsxDEV(DeleteIcon, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 361,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 360,\n              columnNumber: 19\n            }, this),\n            children: /*#__PURE__*/_jsxDEV(ListItemText, {\n              primary: file.name,\n              sx: {\n                color: '#eaeaea'\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 364,\n              columnNumber: 19\n            }, this)\n          }, index, false, {\n            fileName: _jsxFileName,\n            lineNumber: 359,\n            columnNumber: 17\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 357,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Typography, {\n          variant: \"body2\",\n          sx: {\n            mt: 1,\n            color: '#84a59d'\n          },\n          children: \"\\u0412\\u044B \\u043C\\u043E\\u0436\\u0435\\u0442\\u0435 \\u0432\\u0441\\u0442\\u0430\\u0432\\u043B\\u044F\\u0442\\u044C \\u0441\\u043A\\u0440\\u0438\\u043D\\u0448\\u043E\\u0442\\u044B \\u043D\\u0430\\u043F\\u0440\\u044F\\u043C\\u0443\\u044E \\u0447\\u0435\\u0440\\u0435\\u0437 Ctrl+V\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 369,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 314,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(DialogActions, {\n        children: [/*#__PURE__*/_jsxDEV(Button, {\n          onClick: handleCloseModal,\n          sx: {\n            color: '#f2a365'\n          },\n          children: \"\\u041E\\u0442\\u043C\\u0435\\u043D\\u0430\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 374,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          onClick: handleSubmit,\n          variant: \"contained\",\n          sx: {\n            bgcolor: '#f2a365',\n            color: '#2a2f4a',\n            '&:hover': {\n              bgcolor: '#d18c4a'\n            }\n          },\n          children: editingError ? 'Обновить' : 'Создать'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 375,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 373,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 312,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 244,\n    columnNumber: 5\n  }, this);\n}\n_s(AdminPanelErrors, \"K/Uq5hlSo8GaCB9QFK/Yf9bO4/w=\");\n_c = AdminPanelErrors;\nvar _c;\n$RefreshReg$(_c, \"AdminPanelErrors\");","map":{"version":3,"names":["React","useEffect","useState","useRef","Accordion","AccordionSummary","AccordionDetails","Typography","Button","Dialog","DialogTitle","DialogContent","DialogActions","TextField","IconButton","Box","List","ListItem","ListItemText","ExpandMoreIcon","DeleteIcon","EditIcon","axios","jsxDEV","_jsxDEV","API_BASE_URL","process","env","REACT_APP_API_BASE_URL","AdminPanelErrors","token","_s","errors","setErrors","loading","setLoading","errorMsg","setErrorMsg","modalOpen","setModalOpen","editingError","setEditingError","errorName","setErrorName","description","setDescription","solutionDescription","setSolutionDescription","imageFiles","setImageFiles","maxImages","inputFileRef","loadErrors","window","addEventListener","handlePaste","removeEventListener","response","get","headers","Authorization","data","err","message","handleOpenModal","handleCloseModal","handleFileChange","e","files","Array","from","target","length","alert","prev","removeImageFile","index","filter","_","i","event","items","clipboardData","filesFromPaste","item","kind","file","getAsFile","type","push","uploadNewImages","errorId","formData","FormData","append","post","console","error","handleSubmit","trim","_editingError$images","put","id","name","solution_description","images","map","img","image_url","updatedErrorResponse","forEach","config","detail","JSON","stringify","status","statusText","request","handleEdit","handleDeleteImage","imageId","confirm","delete","newImages","handleDelete","sx","width","maxWidth","margin","mt","children","variant","gutterBottom","fileName","_jsxFileName","lineNumber","columnNumber","color","onClick","mb","whiteSpace","bgcolor","border","expandIcon","display","alignItems","justifyContent","flexGrow","stopPropagation","onFocus","flexWrap","gap","position","src","replace","alt","style","maxHeight","objectFit","size","top","right","backgroundColor","fontSize","fontStyle","open","onClose","fullWidth","PaperProps","autoFocus","label","value","onChange","required","InputLabelProps","InputProps","multiline","rows","multiple","accept","marginTop","ref","secondaryAction","edge","primary","_c","$RefreshReg$"],"sources":["F:/Progect/Errors/fastapi_directory/frontend/src/components/AdminPanelErrors.js"],"sourcesContent":["import React, { useEffect, useState, useRef } from 'react';\r\nimport {\r\n  Accordion,\r\n  AccordionSummary,\r\n  AccordionDetails,\r\n  Typography,\r\n  Button,\r\n  Dialog,\r\n  DialogTitle,\r\n  DialogContent,\r\n  DialogActions,\r\n  TextField,\r\n  IconButton,\r\n  Box,\r\n  List,\r\n  ListItem,\r\n  ListItemText,\r\n} from '@mui/material';\r\nimport ExpandMoreIcon from '@mui/icons-material/ExpandMore';\r\nimport DeleteIcon from '@mui/icons-material/Delete';\r\nimport EditIcon from '@mui/icons-material/Edit';\r\nimport axios from 'axios';\r\n\r\nconst API_BASE_URL = `${process.env.REACT_APP_API_BASE_URL}/api`;\r\n\r\nfunction AdminPanelErrors({ token }) {\r\n  const [errors, setErrors] = useState([]);\r\n  const [loading, setLoading] = useState(false);\r\n  const [errorMsg, setErrorMsg] = useState('');\r\n  const [modalOpen, setModalOpen] = useState(false);\r\n  const [editingError, setEditingError] = useState(null);\r\n  const [errorName, setErrorName] = useState('');\r\n  const [description, setDescription] = useState('');\r\n  const [solutionDescription, setSolutionDescription] = useState('');\r\n  const [imageFiles, setImageFiles] = useState([]);\r\n  const maxImages = 5;\r\n  const inputFileRef = useRef(null);\r\n\r\n  useEffect(() => {\r\n    loadErrors();\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    if (modalOpen) {\r\n      window.addEventListener('paste', handlePaste);\r\n    } else {\r\n      window.removeEventListener('paste', handlePaste);\r\n    }\r\n    return () => {\r\n      window.removeEventListener('paste', handlePaste);\r\n    };\r\n  }, [modalOpen, imageFiles]);\r\n\r\n  const loadErrors = async () => {\r\n    setLoading(true);\r\n    setErrorMsg('');\r\n    try {\r\n      const response = await axios.get(`${API_BASE_URL}/errors/`, {\r\n        headers: { Authorization: `Bearer ${token}` },\r\n      });\r\n      setErrors(response.data);\r\n    } catch (err) {\r\n      setErrorMsg(`Ошибка при загрузке ошибок: ${err.message}`);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleOpenModal = () => {\r\n    setEditingError(null);\r\n    setErrorName('');\r\n    setDescription('');\r\n    setSolutionDescription('');\r\n    setImageFiles([]);\r\n    setErrorMsg('');\r\n    setModalOpen(true);\r\n  };\r\n\r\n  const handleCloseModal = () => {\r\n    setModalOpen(false);\r\n  };\r\n\r\n  const handleFileChange = (e) => {\r\n    const files = Array.from(e.target.files);\r\n    if (files.length + imageFiles.length > maxImages) {\r\n      alert(`Можно загрузить не более ${maxImages} изображений`);\r\n      return;\r\n    }\r\n    setImageFiles(prev => [...prev, ...files]);\r\n  };\r\n\r\n  const removeImageFile = (index) => {\r\n    setImageFiles(prev => prev.filter((_, i) => i !== index));\r\n  };\r\n\r\n  const handlePaste = (event) => {\r\n    if (!modalOpen) return;\r\n    const items = event.clipboardData.items;\r\n    const filesFromPaste = [];\r\n    for (let i = 0; i < items.length; i++) {\r\n      const item = items[i];\r\n      if (item.kind === 'file') {\r\n        const file = item.getAsFile();\r\n        if (file && (file.type === 'image/png' || file.type === 'image/jpeg' || file.type === 'image/jpg')) {\r\n          filesFromPaste.push(file);\r\n        }\r\n      }\r\n    }\r\n    if (filesFromPaste.length > 0) {\r\n      if (filesFromPaste.length + imageFiles.length > maxImages) {\r\n        alert(`Можно загрузить не более ${maxImages} изображений`);\r\n        return;\r\n      }\r\n      setImageFiles(prev => [...prev, ...filesFromPaste]);\r\n    }\r\n  };\r\n\r\n  const uploadNewImages = async (errorId) => {\r\n    for (const file of imageFiles) {\r\n      const formData = new FormData();\r\n      formData.append('file', file);\r\n      try {\r\n        await axios.post(`${API_BASE_URL}/errors/${errorId}/images/`, formData, {\r\n          headers: {\r\n            Authorization: `Bearer ${token}`,\r\n            'Content-Type': 'multipart/form-data',\r\n          },\r\n        });\r\n      } catch (err) {\r\n        console.error('Ошибка при загрузке изображения:', err);\r\n        throw err;\r\n      }\r\n    }\r\n  };\r\n\r\n  const handleSubmit = async () => {\r\n    setErrorMsg('');\r\n    if (!errorName.trim()) {\r\n      setErrorMsg('Название ошибки обязательно');\r\n      return;\r\n    }\r\n    if (!editingError && imageFiles.length === 0) {\r\n      setErrorMsg('Необходимо загрузить хотя бы одно изображение');\r\n      return;\r\n    }\r\n    try {\r\n      if (editingError) {\r\n        // Update error details without images\r\n        const response = await axios.put(`${API_BASE_URL}/errors/${editingError.id}`, {\r\n          name: errorName,\r\n          description,\r\n          solution_description: solutionDescription,\r\n          images: editingError.images?.map(img => img.image_url) || [],\r\n        }, {\r\n          headers: { Authorization: `Bearer ${token}` },\r\n        });\r\n        // Upload new images if any\r\n        if (imageFiles.length > 0) {\r\n          await uploadNewImages(editingError.id);\r\n          // Reload updated error with images\r\n          const updatedErrorResponse = await axios.get(`${API_BASE_URL}/errors/${editingError.id}`, {\r\n            headers: { Authorization: `Bearer ${token}` },\r\n          });\r\n          setErrors(errors.map(err => (err.id === editingError.id ? updatedErrorResponse.data : err)));\r\n        } else {\r\n          setErrors(errors.map(err => (err.id === editingError.id ? response.data : err)));\r\n        }\r\n      } else {\r\n        // Create new error with images\r\n        const formData = new FormData();\r\n        formData.append('name', errorName);\r\n        formData.append('description', description);\r\n        formData.append('solution_description', solutionDescription);\r\n        imageFiles.forEach(file => {\r\n          formData.append('files', file);\r\n        });\r\n        const config = {\r\n          headers: {\r\n            Authorization: `Bearer ${token}`,\r\n          },\r\n        };\r\n        const response = await axios.post(`${API_BASE_URL}/errors/`, formData, config);\r\n        setErrors([...errors, response.data]);\r\n      }\r\n      setImageFiles([]);\r\n      handleCloseModal();\r\n    } catch (err) {\r\n      if (err.response) {\r\n        const detail = typeof err.response.data.detail === 'string' ? err.response.data.detail : JSON.stringify(err.response.data.detail);\r\n        setErrorMsg(`Ошибка при сохранении ошибки: ${err.response.status} ${detail || err.response.statusText}`);\r\n      } else if (err.request) {\r\n        setErrorMsg('Ошибка: сервер не отвечает');\r\n      } else {\r\n        setErrorMsg(`Ошибка: ${err.message}`);\r\n      }\r\n    }\r\n  };\r\n\r\n  const handleEdit = (err) => {\r\n    setEditingError(err);\r\n    setErrorName(err.name);\r\n    setDescription(err.description || '');\r\n    setSolutionDescription(err.solution_description || '');\r\n    setImageFiles([]);\r\n    setErrorMsg('');\r\n    setModalOpen(true);\r\n  };\r\n\r\n  const handleDeleteImage = async (imageId) => {\r\n    if (!window.confirm('Вы уверены, что хотите удалить это изображение?')) return;\r\n    try {\r\n      await axios.delete(`${API_BASE_URL}/errors/images/${imageId}`, {\r\n        headers: { Authorization: `Bearer ${token}` },\r\n      });\r\n      if (editingError) {\r\n        const newImages = editingError.images.filter(img => img.id !== imageId);\r\n        setEditingError({ ...editingError, images: newImages });\r\n      }\r\n    } catch (err) {\r\n      alert('Ошибка при удалении изображения');\r\n    }\r\n  };\r\n\r\n  const handleDelete = async (id) => {\r\n    if (!window.confirm('Вы уверены, что хотите удалить ошибку?')) return;\r\n    setErrorMsg('');\r\n    try {\r\n      await axios.delete(`${API_BASE_URL}/errors/${id}`, {\r\n        headers: { Authorization: `Bearer ${token}` },\r\n      });\r\n      setErrors(errors.filter(err => err.id !== id));\r\n    } catch (err) {\r\n      if (err.response) {\r\n        setErrorMsg(`Ошибка при удалении ошибки: ${err.response.status} ${err.response.data.detail || err.response.statusText}`);\r\n      } else if (err.request) {\r\n        setErrorMsg('Ошибка: сервер не отвечает');\r\n      } else {\r\n        setErrorMsg(`Ошибка: ${err.message}`);\r\n      }\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Box sx={{ width: '100%', maxWidth: 800, margin: 'auto', mt: 4 }}>\r\n      <Typography variant=\"h4\" gutterBottom>Управление ошибками</Typography>\r\n      <Button variant=\"contained\" color=\"primary\" onClick={handleOpenModal} sx={{ mb: 2 }}>\r\n        Добавить ошибку\r\n      </Button>\r\n      {errorMsg && <Typography sx={{ mb: 2, whiteSpace: 'pre-wrap', color: '#ff6b6b' }}>{errorMsg}</Typography>}\r\n      {loading ? (\r\n        <Typography sx={{ color: '#eaeaea' }}>Загрузка...</Typography>\r\n      ) : (\r\n        <div>\r\n          {errors.length === 0 ? (\r\n            <Typography sx={{ color: '#eaeaea' }}>Список ошибок пуст</Typography>\r\n          ) : (\r\n            errors.map((err) => (\r\n              <Accordion key={err.id} sx={{ bgcolor: '#1b1f33', color: '#eaeaea', mb: 1, border: '1px solid #84a59d' }}>\r\n                <AccordionSummary\r\n                  expandIcon={<ExpandMoreIcon sx={{ color: '#f2a365' }} />}\r\n                  sx={{ display: 'flex', alignItems: 'center', justifyContent: 'space-between' }}\r\n                >\r\n                  <Typography sx={{ flexGrow: 1 }}>{err.name}</Typography>\r\n                  <div onClick={(e) => e.stopPropagation()} onFocus={(e) => e.stopPropagation()}>\r\n                    <IconButton aria-label=\"edit\" onClick={() => handleEdit(err)} sx={{ color: '#84a59d' }}>\r\n                      <EditIcon />\r\n                    </IconButton>\r\n                    <IconButton aria-label=\"delete\" onClick={() => handleDelete(err.id)} sx={{ color: '#f2a365' }}>\r\n                      <DeleteIcon />\r\n                    </IconButton>\r\n                  </div>\r\n                </AccordionSummary>\r\n                <AccordionDetails>\r\n                  <Typography sx={{ whiteSpace: 'pre-wrap' }}>{err.description}</Typography>\r\n                  {err.images && err.images.length > 0 && (\r\n                    <Box sx={{ display: 'flex', flexWrap: 'wrap', gap: 1, mt: 1 }}>\r\n                      {err.images.map((img) => (\r\n                        <Box key={img.id} sx={{ position: 'relative', display: 'inline-block' }}>\r\n                          <img\r\n                            src={`${API_BASE_URL.replace('/api', '')}${img.image_url}`}\r\n                            alt={`Error illustration ${img.id}`}\r\n                            style={{ maxWidth: '30%', maxHeight: 200, objectFit: 'contain' }}\r\n                          />\r\n                          <IconButton\r\n                            size=\"small\"\r\n                            aria-label=\"delete image\"\r\n                            sx={{\r\n                              position: 'absolute',\r\n                              top: 0,\r\n                              right: 0,\r\n                              backgroundColor: 'rgba(255,255,255,0.7)',\r\n                              '&:hover': { backgroundColor: 'rgba(255,0,0,0.8)', color: 'white' },\r\n                            }}\r\n                            onClick={() => handleDeleteImage(img.id)}\r\n                          >\r\n                            <DeleteIcon fontSize=\"small\" />\r\n                          </IconButton>\r\n                        </Box>\r\n                      ))}\r\n                    </Box>\r\n                  )}\r\n                  <Typography sx={{ fontStyle: 'italic', color: '#84a59d', mt: 2 }}>\r\n                    Решение: {err.solution_description || 'Нет описания решения'}\r\n                  </Typography>\r\n                </AccordionDetails>\r\n              </Accordion>\r\n            ))\r\n          )}\r\n        </div>\r\n      )}\r\n\r\n      <Dialog open={modalOpen} onClose={handleCloseModal} maxWidth=\"sm\" fullWidth PaperProps={{ sx: { bgcolor: '#2a2f4a', color: '#eaeaea' } }}>\r\n        <DialogTitle sx={{ color: '#f2a365' }}>{editingError ? 'Редактировать ошибку' : 'Добавить ошибку'}</DialogTitle>\r\n        <DialogContent>\r\n          <TextField\r\n            autoFocus\r\n            margin=\"dense\"\r\n            label=\"Название ошибки *обязательное поле\"\r\n            fullWidth\r\n            value={errorName}\r\n            onChange={(e) => setErrorName(e.target.value)}\r\n            required\r\n            InputLabelProps={{ sx: { color: '#f2a365' } }}\r\n            InputProps={{ sx: { color: '#eaeaea' } }}\r\n          />\r\n          <TextField\r\n            margin=\"dense\"\r\n            label=\"Описание ошибки\"\r\n            fullWidth\r\n            multiline\r\n            rows={4}\r\n            value={description}\r\n            onChange={(e) => setDescription(e.target.value)}\r\n            InputLabelProps={{ sx: { color: '#f2a365' } }}\r\n            InputProps={{ sx: { color: '#eaeaea' } }}\r\n          />\r\n          <TextField\r\n            margin=\"dense\"\r\n            label=\"Описание решения\"\r\n            fullWidth\r\n            multiline\r\n            rows={3}\r\n            value={solutionDescription}\r\n            onChange={(e) => setSolutionDescription(e.target.value)}\r\n            InputLabelProps={{ sx: { color: '#f2a365' } }}\r\n            InputProps={{ sx: { color: '#eaeaea' } }}\r\n          />\r\n          <input\r\n            type=\"file\"\r\n            multiple\r\n            accept=\".png,.jpg,.jpeg\"\r\n            onChange={handleFileChange}\r\n            style={{ marginTop: 16, color: '#eaeaea' }}\r\n            ref={inputFileRef}\r\n          />\r\n          {imageFiles.length > 0 && (\r\n            <List>\r\n              {imageFiles.map((file, index) => (\r\n                <ListItem key={index} secondaryAction={\r\n                  <IconButton edge=\"end\" aria-label=\"delete\" onClick={() => removeImageFile(index)} sx={{ color: '#f2a365' }}>\r\n                    <DeleteIcon />\r\n                  </IconButton>\r\n                }>\r\n                  <ListItemText primary={file.name} sx={{ color: '#eaeaea' }} />\r\n                </ListItem>\r\n              ))}\r\n            </List>\r\n          )}\r\n          <Typography variant=\"body2\" sx={{ mt: 1, color: '#84a59d' }}>\r\n            Вы можете вставлять скриншоты напрямую через Ctrl+V\r\n          </Typography>\r\n        </DialogContent>\r\n        <DialogActions>\r\n          <Button onClick={handleCloseModal} sx={{ color: '#f2a365' }}>Отмена</Button>\r\n          <Button onClick={handleSubmit} variant=\"contained\" sx={{ bgcolor: '#f2a365', color: '#2a2f4a', '&:hover': { bgcolor: '#d18c4a' } }}>\r\n            {editingError ? 'Обновить' : 'Создать'}\r\n          </Button>\r\n        </DialogActions>\r\n      </Dialog>\r\n    </Box>\r\n  );\r\n}\r\n     "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}