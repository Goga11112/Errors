{"ast":null,"code":"var _jsxFileName = \"C:\\\\Project\\\\Errors\\\\fastapi_directory\\\\frontend\\\\src\\\\components\\\\Users.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from 'react';\nimport axios from 'axios';\nimport { Typography, Button, Table, TableBody, TableCell, TableContainer, TableHead, TableRow, Paper, TextField, Select, MenuItem, Checkbox, FormControlLabel } from '@mui/material';\nimport CreateUserModal from './CreateUserModal';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nfunction AdminPanelUsers({\n  token,\n  onLogout\n}) {\n  _s();\n  const [users, setUsers] = useState([]);\n  const [roles, setRoles] = useState([]);\n  const [filterText, setFilterText] = useState('');\n  const [editRows, setEditRows] = useState({});\n  const [error, setError] = useState('');\n  const [isSuperAdmin, setIsSuperAdmin] = useState(false);\n  const [createModalOpen, setCreateModalOpen] = useState(false);\n  useEffect(() => {\n    fetchUsers();\n    fetchRoles();\n    checkSuperAdmin();\n  }, []);\n  const fetchUsers = async () => {\n    try {\n      const response = await axios.get('/api/users/', {\n        headers: {\n          Authorization: `Bearer ${token}`\n        }\n      });\n      setUsers(response.data);\n      setError('');\n    } catch (err) {\n      setError('Ошибка при загрузке пользователей');\n    }\n  };\n  const fetchRoles = async () => {\n    try {\n      const response = await axios.get('/api/roles/', {\n        headers: {\n          Authorization: `Bearer ${token}`\n        }\n      });\n      setRoles(response.data);\n    } catch (err) {\n      // ignore roles fetch error\n    }\n  };\n  const checkSuperAdmin = async () => {\n    try {\n      const response = await axios.get('/api/users/me', {\n        headers: {\n          Authorization: `Bearer ${token}`\n        }\n      });\n      setIsSuperAdmin(response.data.role.name === 'Главный администратор');\n    } catch (err) {\n      // ignore\n    }\n  };\n  const handleFilterChange = e => {\n    setFilterText(e.target.value);\n  };\n  const filteredUsers = users.filter(user => {\n    const search = filterText.toLowerCase();\n    return user.username.toLowerCase().includes(search) || user.realname.toLowerCase().includes(search) || (user.is_admin ? 'admin' : '').includes(search) || (user.is_super_admin ? 'super admin' : '').includes(search);\n  });\n  const handleEditChange = (id, field, value) => {\n    setEditRows(prev => ({\n      ...prev,\n      [id]: {\n        ...prev[id],\n        [field]: value\n      }\n    }));\n  };\n  const handleEditClick = user => {\n    setEditRows(prev => ({\n      ...prev,\n      [user.id]: {\n        username: user.username,\n        realname: user.realname,\n        role_id: user.role.id,\n        is_admin: user.is_admin,\n        is_super_admin: user.is_super_admin\n      }\n    }));\n    setError('');\n  };\n  const handleDeleteClick = async userId => {\n    if (!window.confirm('Вы уверены, что хотите удалить пользователя?')) return;\n    try {\n      await axios.delete(`/api/users/${userId}`, {\n        headers: {\n          Authorization: `Bearer ${token}`\n        }\n      });\n      setUsers(users.filter(u => u.id !== userId));\n    } catch (err) {\n      setError('Ошибка при удалении пользователя');\n    }\n  };\n  const handleSave = async id => {\n    const edited = editRows[id];\n    if (!edited) return;\n    if (!edited.username || !edited.realname || !edited.role_id) {\n      setError('Имя пользователя, настоящее имя и роль обязательны');\n      return;\n    }\n    try {\n      await axios.put(`/api/users/${id}`, {\n        username: edited.username,\n        realname: edited.realname,\n        role_id: edited.role_id,\n        is_admin: edited.is_admin,\n        is_super_admin: edited.is_super_admin\n      }, {\n        headers: {\n          Authorization: `Bearer ${token}`\n        }\n      });\n      setUsers(prev => prev.map(user => user.id === id ? {\n        ...user,\n        username: edited.username,\n        realname: edited.realname,\n        role: roles.find(r => r.id === edited.role_id) || user.role,\n        is_admin: edited.is_admin,\n        is_super_admin: edited.is_super_admin\n      } : user));\n      setEditRows(prev => {\n        const newEditRows = {\n          ...prev\n        };\n        delete newEditRows[id];\n        return newEditRows;\n      });\n      setError('');\n    } catch (err) {\n      setError('Ошибка при сохранении пользователя');\n    }\n  };\n  const handleCreateUser = async userData => {\n    try {\n      const response = await axios.post('/api/users/', {\n        username: userData.username,\n        password: userData.password,\n        realname: userData.realname,\n        role_id: userData.role_id,\n        // Make sure this matches your backend\n        is_admin: userData.is_admin,\n        is_super_admin: userData.is_super_admin\n      }, {\n        headers: {\n          Authorization: `Bearer ${token}`\n        }\n      });\n      setUsers([...users, response.data]);\n      return true;\n    } catch (err) {\n      var _err$response, _err$response$data;\n      setError(((_err$response = err.response) === null || _err$response === void 0 ? void 0 : (_err$response$data = _err$response.data) === null || _err$response$data === void 0 ? void 0 : _err$response$data.detail) || 'Ошибка при создании пользователя');\n      return false;\n    }\n  };\n  const handleCancel = id => {\n    setEditRows(prev => {\n      const newEditRows = {\n        ...prev\n      };\n      delete newEditRows[id];\n      return newEditRows;\n    });\n    setError('');\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(Typography, {\n      variant: \"h4\",\n      gutterBottom: true,\n      sx: {\n        color: '#f2a365'\n      },\n      children: \"\\u041F\\u043E\\u043B\\u044C\\u0437\\u043E\\u0432\\u0430\\u0442\\u0435\\u043B\\u0438\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 197,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Button, {\n      variant: \"contained\",\n      sx: {\n        mb: 2,\n        backgroundColor: '#f2a365',\n        color: '#2a2f4a',\n        fontWeight: '700'\n      },\n      onClick: () => setCreateModalOpen(true),\n      children: \"\\u0421\\u043E\\u0437\\u0434\\u0430\\u0442\\u044C \\u043F\\u043E\\u043B\\u044C\\u0437\\u043E\\u0432\\u0430\\u0442\\u0435\\u043B\\u044F\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 200,\n      columnNumber: 7\n    }, this), error && /*#__PURE__*/_jsxDEV(Typography, {\n      sx: {\n        color: '#ff6b6b',\n        fontWeight: '700',\n        mb: 1\n      },\n      children: error\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 208,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(CreateUserModal, {\n      open: createModalOpen,\n      onClose: () => setCreateModalOpen(false),\n      onSave: handleCreateUser,\n      roles: roles,\n      token: token\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 212,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(TextField, {\n      placeholder: \"\\u0424\\u0438\\u043B\\u044C\\u0442\\u0440 \\u043F\\u043E \\u0438\\u043C\\u0435\\u043D\\u0438, \\u0440\\u043E\\u043B\\u0438, \\u0441\\u0442\\u0430\\u0442\\u0443\\u0441\\u0443...\",\n      value: filterText,\n      onChange: handleFilterChange,\n      fullWidth: true,\n      sx: {\n        mb: 2\n      },\n      InputProps: {\n        sx: {\n          backgroundColor: '#1b1f33',\n          color: '#eaeaea',\n          borderRadius: 1,\n          '& .MuiOutlinedInput-notchedOutline': {\n            borderColor: '#84a59d'\n          },\n          '&:hover .MuiOutlinedInput-notchedOutline': {\n            borderColor: '#f2a365'\n          },\n          '&.Mui-focused .MuiOutlinedInput-notchedOutline': {\n            borderColor: '#f2a365'\n          }\n        }\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 219,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(TableContainer, {\n      component: Paper,\n      sx: {\n        backgroundColor: '#2a2f4a'\n      },\n      children: /*#__PURE__*/_jsxDEV(Table, {\n        \"aria-label\": \"users table\",\n        sx: {\n          color: '#eaeaea'\n        },\n        children: [/*#__PURE__*/_jsxDEV(TableHead, {\n          children: /*#__PURE__*/_jsxDEV(TableRow, {\n            children: [/*#__PURE__*/_jsxDEV(TableCell, {\n              sx: {\n                color: '#f2a365'\n              },\n              children: \"\\u0418\\u043C\\u044F \\u043F\\u043E\\u043B\\u044C\\u0437\\u043E\\u0432\\u0430\\u0442\\u0435\\u043B\\u044F\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 246,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n              sx: {\n                color: '#f2a365'\n              },\n              children: \"\\u041D\\u0430\\u0441\\u0442\\u043E\\u044F\\u0449\\u0435\\u0435 \\u0438\\u043C\\u044F\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 247,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n              sx: {\n                color: '#f2a365'\n              },\n              children: \"\\u0420\\u043E\\u043B\\u044C\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 248,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n              sx: {\n                color: '#f2a365'\n              },\n              children: \"\\u0410\\u0434\\u043C\\u0438\\u043D\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 249,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n              sx: {\n                color: '#f2a365'\n              },\n              children: \"\\u0421\\u0443\\u043F\\u0435\\u0440 \\u0430\\u0434\\u043C\\u0438\\u043D\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 250,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n              sx: {\n                color: '#f2a365'\n              },\n              children: \"\\u0414\\u0435\\u0439\\u0441\\u0442\\u0432\\u0438\\u044F\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 251,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 245,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 244,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(TableBody, {\n          children: filteredUsers.map(user => {\n            var _editData$username, _editData$realname, _editData$role_id, _editData$is_admin, _editData$is_super_ad;\n            const isEditing = !!editRows[user.id];\n            const editData = editRows[user.id] || {};\n            return /*#__PURE__*/_jsxDEV(TableRow, {\n              sx: {\n                color: 'white'\n              },\n              children: [/*#__PURE__*/_jsxDEV(TableCell, {\n                sx: {\n                  color: 'white'\n                },\n                children: isEditing ? /*#__PURE__*/_jsxDEV(TextField, {\n                  value: (_editData$username = editData.username) !== null && _editData$username !== void 0 ? _editData$username : user.username,\n                  onChange: e => handleEditChange(user.id, 'username', e.target.value),\n                  size: \"small\",\n                  sx: {\n                    input: {\n                      color: 'white'\n                    },\n                    '& .MuiOutlinedInput-notchedOutline': {\n                      borderColor: '#84a59d'\n                    },\n                    '&:hover .MuiOutlinedInput-notchedOutline': {\n                      borderColor: '#f2a365'\n                    },\n                    '&.Mui-focused .MuiOutlinedInput-notchedOutline': {\n                      borderColor: '#f2a365'\n                    }\n                  }\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 262,\n                  columnNumber: 23\n                }, this) : user.username\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 260,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                sx: {\n                  color: 'white'\n                },\n                children: isEditing ? /*#__PURE__*/_jsxDEV(TextField, {\n                  value: (_editData$realname = editData.realname) !== null && _editData$realname !== void 0 ? _editData$realname : user.realname,\n                  onChange: e => handleEditChange(user.id, 'realname', e.target.value),\n                  size: \"small\",\n                  sx: {\n                    input: {\n                      color: 'white'\n                    },\n                    '& .MuiOutlinedInput-notchedOutline': {\n                      borderColor: '#84a59d'\n                    },\n                    '&:hover .MuiOutlinedInput-notchedOutline': {\n                      borderColor: '#f2a365'\n                    },\n                    '&.Mui-focused .MuiOutlinedInput-notchedOutline': {\n                      borderColor: '#f2a365'\n                    }\n                  }\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 287,\n                  columnNumber: 23\n                }, this) : user.realname\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 285,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                sx: {\n                  color: 'white'\n                },\n                children: isEditing ? /*#__PURE__*/_jsxDEV(Select, {\n                  value: (_editData$role_id = editData.role_id) !== null && _editData$role_id !== void 0 ? _editData$role_id : user.role.id,\n                  onChange: e => handleEditChange(user.id, 'role_id', e.target.value),\n                  size: \"small\",\n                  sx: {\n                    color: 'white',\n                    '& .MuiOutlinedInput-notchedOutline': {\n                      borderColor: '#84a59d'\n                    },\n                    '&:hover .MuiOutlinedInput-notchedOutline': {\n                      borderColor: '#f2a365'\n                    },\n                    '&.Mui-focused .MuiOutlinedInput-notchedOutline': {\n                      borderColor: '#f2a365'\n                    }\n                  },\n                  children: roles.map(role => /*#__PURE__*/_jsxDEV(MenuItem, {\n                    value: role.id,\n                    children: role.name\n                  }, role.id, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 332,\n                    columnNumber: 27\n                  }, this))\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 312,\n                  columnNumber: 23\n                }, this) : user.role\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 310,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                sx: {\n                  color: 'white'\n                },\n                children: isEditing ? /*#__PURE__*/_jsxDEV(FormControlLabel, {\n                  control: /*#__PURE__*/_jsxDEV(Checkbox, {\n                    checked: (_editData$is_admin = editData.is_admin) !== null && _editData$is_admin !== void 0 ? _editData$is_admin : user.is_admin,\n                    onChange: e => handleEditChange(user.id, 'is_admin', e.target.checked),\n                    sx: {\n                      color: '#f2a365',\n                      '&.Mui-checked': {\n                        color: '#f2a365'\n                      }\n                    }\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 345,\n                    columnNumber: 27\n                  }, this),\n                  label: \"\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 343,\n                  columnNumber: 23\n                }, this) : user.is_admin ? 'Да' : 'Нет'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 341,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                sx: {\n                  color: 'white'\n                },\n                children: isEditing ? /*#__PURE__*/_jsxDEV(FormControlLabel, {\n                  control: /*#__PURE__*/_jsxDEV(Checkbox, {\n                    checked: (_editData$is_super_ad = editData.is_super_admin) !== null && _editData$is_super_ad !== void 0 ? _editData$is_super_ad : user.is_super_admin,\n                    onChange: e => handleEditChange(user.id, 'is_super_admin', e.target.checked),\n                    sx: {\n                      color: '#f2a365',\n                      '&.Mui-checked': {\n                        color: '#f2a365'\n                      }\n                    }\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 370,\n                    columnNumber: 27\n                  }, this),\n                  label: \"\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 368,\n                  columnNumber: 23\n                }, this) : user.is_super_admin ? 'Да' : 'Нет'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 366,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                sx: {\n                  color: 'white'\n                },\n                children: isEditing ? /*#__PURE__*/_jsxDEV(_Fragment, {\n                  children: [/*#__PURE__*/_jsxDEV(Button, {\n                    variant: \"contained\",\n                    size: \"small\",\n                    onClick: () => handleSave(user.id),\n                    sx: {\n                      mr: 1,\n                      backgroundColor: '#f2a365',\n                      color: '#2a2f4a',\n                      '&:hover': {\n                        backgroundColor: '#d18c4a'\n                      },\n                      fontWeight: '700'\n                    },\n                    children: \"\\u0421\\u043E\\u0445\\u0440\\u0430\\u043D\\u0438\\u0442\\u044C\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 394,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(Button, {\n                    variant: \"outlined\",\n                    size: \"small\",\n                    onClick: () => handleCancel(user.id),\n                    sx: {\n                      color: '#f2a365',\n                      borderColor: '#f2a365',\n                      '&:hover': {\n                        backgroundColor: '#f2a365',\n                        color: '#2a2f4a'\n                      }\n                    },\n                    children: \"\\u041E\\u0442\\u043C\\u0435\\u043D\\u0430\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 408,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true) : /*#__PURE__*/_jsxDEV(Button, {\n                  variant: \"outlined\",\n                  size: \"small\",\n                  onClick: () => handleEditClick(user),\n                  sx: {\n                    borderColor: '#f2a365',\n                    color: '#f2a365',\n                    '&:hover': {\n                      backgroundColor: '#f2a365',\n                      color: '#2a2f4a'\n                    }\n                  },\n                  children: \"\\u0420\\u0435\\u0434\\u0430\\u043A\\u0442\\u0438\\u0440\\u043E\\u0432\\u0430\\u0442\\u044C\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 425,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 391,\n                columnNumber: 19\n              }, this)]\n            }, user.id, true, {\n              fileName: _jsxFileName,\n              lineNumber: 259,\n              columnNumber: 17\n            }, this);\n          })\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 254,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 243,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 242,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 196,\n    columnNumber: 5\n  }, this);\n}\n_s(AdminPanelUsers, \"jiHxDLVfpEVODDdyNl+p5SUjjRo=\");\n_c = AdminPanelUsers;\nexport default AdminPanelUsers;\nvar _c;\n$RefreshReg$(_c, \"AdminPanelUsers\");","map":{"version":3,"names":["React","useEffect","useState","axios","Typography","Button","Table","TableBody","TableCell","TableContainer","TableHead","TableRow","Paper","TextField","Select","MenuItem","Checkbox","FormControlLabel","CreateUserModal","jsxDEV","_jsxDEV","Fragment","_Fragment","AdminPanelUsers","token","onLogout","_s","users","setUsers","roles","setRoles","filterText","setFilterText","editRows","setEditRows","error","setError","isSuperAdmin","setIsSuperAdmin","createModalOpen","setCreateModalOpen","fetchUsers","fetchRoles","checkSuperAdmin","response","get","headers","Authorization","data","err","role","name","handleFilterChange","e","target","value","filteredUsers","filter","user","search","toLowerCase","username","includes","realname","is_admin","is_super_admin","handleEditChange","id","field","prev","handleEditClick","role_id","handleDeleteClick","userId","window","confirm","delete","u","handleSave","edited","put","map","find","r","newEditRows","handleCreateUser","userData","post","password","_err$response","_err$response$data","detail","handleCancel","children","variant","gutterBottom","sx","color","fileName","_jsxFileName","lineNumber","columnNumber","mb","backgroundColor","fontWeight","onClick","open","onClose","onSave","placeholder","onChange","fullWidth","InputProps","borderRadius","borderColor","component","_editData$username","_editData$realname","_editData$role_id","_editData$is_admin","_editData$is_super_ad","isEditing","editData","size","input","control","checked","label","mr","_c","$RefreshReg$"],"sources":["C:/Project/Errors/fastapi_directory/frontend/src/components/Users.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport axios from 'axios';\r\nimport {\r\n  Typography,\r\n  Button,\r\n  Table,\r\n  TableBody,\r\n  TableCell,\r\n  TableContainer,\r\n  TableHead,\r\n  TableRow,\r\n  Paper,\r\n  TextField,\r\n  Select,\r\n  MenuItem,\r\n  Checkbox,\r\n  FormControlLabel,\r\n} from '@mui/material';\r\nimport CreateUserModal from './CreateUserModal';\r\n\r\nfunction AdminPanelUsers({ token, onLogout }) {\r\n  const [users, setUsers] = useState([]);\r\n  const [roles, setRoles] = useState([]);\r\n  const [filterText, setFilterText] = useState('');\r\n  const [editRows, setEditRows] = useState({});\r\n  const [error, setError] = useState('');\r\n  const [isSuperAdmin, setIsSuperAdmin] = useState(false);\r\n  const [createModalOpen, setCreateModalOpen] = useState(false);\r\n\r\n  useEffect(() => {\r\n    fetchUsers();\r\n    fetchRoles();\r\n    checkSuperAdmin();\r\n  }, []);\r\n\r\n  const fetchUsers = async () => {\r\n    try {\r\n      const response = await axios.get('/api/users/', {\r\n        headers: { Authorization: `Bearer ${token}` },\r\n      });\r\n      setUsers(response.data);\r\n      setError('');\r\n    } catch (err) {\r\n      setError('Ошибка при загрузке пользователей');\r\n    }\r\n  };\r\n\r\n  const fetchRoles = async () => {\r\n    try {\r\n      const response = await axios.get('/api/roles/', {\r\n        headers: { Authorization: `Bearer ${token}` },\r\n      });\r\n      setRoles(response.data);\r\n    } catch (err) {\r\n      // ignore roles fetch error\r\n    }\r\n  };\r\n\r\n  const checkSuperAdmin = async () => {\r\n    try {\r\n      const response = await axios.get('/api/users/me', {\r\n        headers: { Authorization: `Bearer ${token}` },\r\n      });\r\n      setIsSuperAdmin(response.data.role.name === 'Главный администратор');\r\n    } catch (err) {\r\n      // ignore\r\n    }\r\n  };\r\n\r\n  const handleFilterChange = (e) => {\r\n    setFilterText(e.target.value);\r\n  };\r\n\r\n  const filteredUsers = users.filter((user) => {\r\n    const search = filterText.toLowerCase();\r\n    return (\r\n      user.username.toLowerCase().includes(search) ||\r\n      user.realname.toLowerCase().includes(search) ||\r\n      (user.is_admin ? 'admin' : '').includes(search) ||\r\n      (user.is_super_admin ? 'super admin' : '').includes(search)\r\n    );\r\n  });\r\n\r\n  const handleEditChange = (id, field, value) => {\r\n    setEditRows((prev) => ({\r\n      ...prev,\r\n      [id]: {\r\n        ...prev[id],\r\n        [field]: value,\r\n      },\r\n    }));\r\n  };\r\n\r\n  const handleEditClick = (user) => {\r\n    setEditRows((prev) => ({\r\n      ...prev,\r\n      [user.id]: {\r\n        username: user.username,\r\n        realname: user.realname,\r\n        role_id: user.role.id,\r\n        is_admin: user.is_admin,\r\n        is_super_admin: user.is_super_admin,\r\n      },\r\n    }));\r\n    setError('');\r\n  };\r\n\r\n  const handleDeleteClick = async (userId) => {\r\n    if (!window.confirm('Вы уверены, что хотите удалить пользователя?')) return;\r\n    try {\r\n      await axios.delete(`/api/users/${userId}`, {\r\n        headers: { Authorization: `Bearer ${token}` },\r\n      });\r\n      setUsers(users.filter((u) => u.id !== userId));\r\n    } catch (err) {\r\n      setError('Ошибка при удалении пользователя');\r\n    }\r\n  };\r\n\r\n  const handleSave = async (id) => {\r\n    const edited = editRows[id];\r\n    if (!edited) return;\r\n\r\n    if (!edited.username || !edited.realname || !edited.role_id) {\r\n      setError('Имя пользователя, настоящее имя и роль обязательны');\r\n      return;\r\n    }\r\n\r\n    try {\r\n      await axios.put(\r\n        `/api/users/${id}`,\r\n        {\r\n          username: edited.username,\r\n          realname: edited.realname,\r\n          role_id: edited.role_id,\r\n          is_admin: edited.is_admin,\r\n          is_super_admin: edited.is_super_admin,\r\n        },\r\n        {\r\n          headers: { Authorization: `Bearer ${token}` },\r\n        }\r\n      );\r\n      setUsers((prev) =>\r\n        prev.map((user) =>\r\n          user.id === id\r\n            ? {\r\n                ...user,\r\n                username: edited.username,\r\n                realname: edited.realname,\r\n                role: roles.find((r) => r.id === edited.role_id) || user.role,\r\n                is_admin: edited.is_admin,\r\n                is_super_admin: edited.is_super_admin,\r\n              }\r\n            : user\r\n        )\r\n      );\r\n      setEditRows((prev) => {\r\n        const newEditRows = { ...prev };\r\n        delete newEditRows[id];\r\n        return newEditRows;\r\n      });\r\n      setError('');\r\n    } catch (err) {\r\n      setError('Ошибка при сохранении пользователя');\r\n    }\r\n  };\r\n    const handleCreateUser = async (userData) => {\r\n    try {\r\n      const response = await axios.post('/api/users/', {\r\n        username: userData.username,\r\n        password: userData.password,\r\n        realname: userData.realname,\r\n        role_id: userData.role_id,  // Make sure this matches your backend\r\n        is_admin: userData.is_admin,\r\n        is_super_admin: userData.is_super_admin,\r\n      }, {\r\n        headers: { Authorization: `Bearer ${token}` },\r\n      });\r\n      setUsers([...users, response.data]);\r\n      return true;\r\n    } catch (err) {\r\n      setError(err.response?.data?.detail || 'Ошибка при создании пользователя');\r\n      return false;\r\n    }\r\n  };\r\n  const handleCancel = (id) => {\r\n    setEditRows((prev) => {\r\n      const newEditRows = { ...prev };\r\n      delete newEditRows[id];\r\n      return newEditRows;\r\n    });\r\n    setError('');\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <Typography variant=\"h4\" gutterBottom sx={{ color: '#f2a365' }}>\r\n        Пользователи\r\n      </Typography>\r\n      <Button\r\n        variant=\"contained\"\r\n        sx={{ mb: 2, backgroundColor: '#f2a365', color: '#2a2f4a', fontWeight: '700' }}\r\n        onClick={() => setCreateModalOpen(true)}\r\n      >\r\n        Создать пользователя\r\n      </Button>\r\n      {error && (\r\n        <Typography sx={{ color: '#ff6b6b', fontWeight: '700', mb: 1 }}>\r\n          {error}\r\n        </Typography>\r\n      )}\r\n      <CreateUserModal\r\n  open={createModalOpen}\r\n  onClose={() => setCreateModalOpen(false)}\r\n  onSave={handleCreateUser}\r\n  roles={roles}\r\n  token={token}\r\n/>\r\n      <TextField\r\n        placeholder=\"Фильтр по имени, роли, статусу...\"\r\n        value={filterText}\r\n        onChange={handleFilterChange}\r\n        fullWidth\r\n        sx={{ mb: 2 }}\r\n        InputProps={{\r\n          sx: {\r\n            backgroundColor: '#1b1f33',\r\n            color: '#eaeaea',\r\n            borderRadius: 1,\r\n            '& .MuiOutlinedInput-notchedOutline': {\r\n              borderColor: '#84a59d',\r\n            },\r\n            '&:hover .MuiOutlinedInput-notchedOutline': {\r\n              borderColor: '#f2a365',\r\n            },\r\n            '&.Mui-focused .MuiOutlinedInput-notchedOutline': {\r\n              borderColor: '#f2a365',\r\n            },\r\n          },\r\n        }}\r\n      />\r\n      <TableContainer component={Paper} sx={{ backgroundColor: '#2a2f4a' }}>\r\n        <Table aria-label=\"users table\" sx={{ color: '#eaeaea' }}>\r\n          <TableHead>\r\n            <TableRow>\r\n              <TableCell sx={{ color: '#f2a365' }}>Имя пользователя</TableCell>\r\n              <TableCell sx={{ color: '#f2a365' }}>Настоящее имя</TableCell>\r\n              <TableCell sx={{ color: '#f2a365' }}>Роль</TableCell>\r\n              <TableCell sx={{ color: '#f2a365' }}>Админ</TableCell>\r\n              <TableCell sx={{ color: '#f2a365' }}>Супер админ</TableCell>\r\n              <TableCell sx={{ color: '#f2a365' }}>Действия</TableCell>\r\n            </TableRow>\r\n          </TableHead>\r\n          <TableBody>\r\n            {filteredUsers.map((user) => {\r\n              const isEditing = !!editRows[user.id];\r\n              const editData = editRows[user.id] || {};\r\n              return (\r\n                <TableRow key={user.id} sx={{ color: 'white' }}>\r\n                  <TableCell sx={{ color: 'white' }}>\r\n                    {isEditing ? (\r\n                      <TextField\r\n                        value={editData.username ?? user.username}\r\n                        onChange={(e) =>\r\n                          handleEditChange(user.id, 'username', e.target.value)\r\n                        }\r\n                        size=\"small\"\r\n                        sx={{\r\n                          input: { color: 'white' },\r\n                          '& .MuiOutlinedInput-notchedOutline': {\r\n                            borderColor: '#84a59d',\r\n                          },\r\n                          '&:hover .MuiOutlinedInput-notchedOutline': {\r\n                            borderColor: '#f2a365',\r\n                          },\r\n                          '&.Mui-focused .MuiOutlinedInput-notchedOutline': {\r\n                            borderColor: '#f2a365',\r\n                          },\r\n                        }}\r\n                      />\r\n                    ) : (\r\n                      user.username\r\n                    )}\r\n                  </TableCell>\r\n                  <TableCell sx={{ color: 'white' }}>\r\n                    {isEditing ? (\r\n                      <TextField\r\n                        value={editData.realname ?? user.realname}\r\n                        onChange={(e) =>\r\n                          handleEditChange(user.id, 'realname', e.target.value)\r\n                        }\r\n                        size=\"small\"\r\n                        sx={{\r\n                          input: { color: 'white' },\r\n                          '& .MuiOutlinedInput-notchedOutline': {\r\n                            borderColor: '#84a59d',\r\n                          },\r\n                          '&:hover .MuiOutlinedInput-notchedOutline': {\r\n                            borderColor: '#f2a365',\r\n                          },\r\n                          '&.Mui-focused .MuiOutlinedInput-notchedOutline': {\r\n                            borderColor: '#f2a365',\r\n                          },\r\n                        }}\r\n                      />\r\n                    ) : (\r\n                      user.realname\r\n                    )}\r\n                  </TableCell>\r\n                  <TableCell sx={{ color: 'white' }}>\r\n                    {isEditing ? (\r\n                      <Select\r\n                        value={editData.role_id ?? user.role.id}\r\n                        onChange={(e) =>\r\n                          handleEditChange(user.id, 'role_id', e.target.value)\r\n                        }\r\n                        size=\"small\"\r\n                        sx={{\r\n                          color: 'white',\r\n                          '& .MuiOutlinedInput-notchedOutline': {\r\n                            borderColor: '#84a59d',\r\n                          },\r\n                          '&:hover .MuiOutlinedInput-notchedOutline': {\r\n                            borderColor: '#f2a365',\r\n                          },\r\n                          '&.Mui-focused .MuiOutlinedInput-notchedOutline': {\r\n                            borderColor: '#f2a365',\r\n                          },\r\n                        }}\r\n                      >\r\n                        {roles.map((role) => (\r\n                          <MenuItem key={role.id} value={role.id}>\r\n                            {role.name}\r\n                          </MenuItem>\r\n                        ))}\r\n                      </Select>\r\n                    ) : (\r\n                      user.role\r\n                    )}\r\n                  </TableCell>\r\n                  <TableCell sx={{ color: 'white' }}>\r\n                    {isEditing ? (\r\n                      <FormControlLabel\r\n                        control={\r\n                          <Checkbox\r\n                            checked={editData.is_admin ?? user.is_admin}\r\n                            onChange={(e) =>\r\n                              handleEditChange(user.id, 'is_admin', e.target.checked)\r\n                            }\r\n                            sx={{\r\n                              color: '#f2a365',\r\n                              '&.Mui-checked': {\r\n                                color: '#f2a365',\r\n                              },\r\n                            }}\r\n                          />\r\n                        }\r\n                        label=\"\"\r\n                      />\r\n                    ) : user.is_admin ? (\r\n                      'Да'\r\n                    ) : (\r\n                      'Нет'\r\n                    )}\r\n                  </TableCell>\r\n                  <TableCell sx={{ color: 'white' }}>\r\n                    {isEditing ? (\r\n                      <FormControlLabel\r\n                        control={\r\n                          <Checkbox\r\n                            checked={editData.is_super_admin ?? user.is_super_admin}\r\n                            onChange={(e) =>\r\n                              handleEditChange(user.id, 'is_super_admin', e.target.checked)\r\n                            }\r\n                            sx={{\r\n                              color: '#f2a365',\r\n                              '&.Mui-checked': {\r\n                                color: '#f2a365',\r\n                              },\r\n                            }}\r\n                          />\r\n                        }\r\n                        label=\"\"\r\n                      />\r\n                    ) : user.is_super_admin ? (\r\n                      'Да'\r\n                    ) : (\r\n                      'Нет'\r\n                    )}\r\n                  </TableCell>\r\n                  <TableCell sx={{ color: 'white' }}>\r\n                    {isEditing ? (\r\n                      <>\r\n                        <Button\r\n                          variant=\"contained\"\r\n                          size=\"small\"\r\n                          onClick={() => handleSave(user.id)}\r\n                          sx={{\r\n                            mr: 1,\r\n                            backgroundColor: '#f2a365',\r\n                            color: '#2a2f4a',\r\n                            '&:hover': { backgroundColor: '#d18c4a' },\r\n                            fontWeight: '700',\r\n                          }}\r\n                        >\r\n                          Сохранить\r\n                        </Button>\r\n                        <Button\r\n                          variant=\"outlined\"\r\n                          size=\"small\"\r\n                          onClick={() => handleCancel(user.id)}\r\n                          sx={{\r\n                            color: '#f2a365',\r\n                            borderColor: '#f2a365',\r\n                            '&:hover': {\r\n                              backgroundColor: '#f2a365',\r\n                              color: '#2a2f4a',\r\n                            },\r\n                          }}\r\n                        >\r\n                          Отмена\r\n                        </Button>\r\n                      </>\r\n                    ) : (\r\n                      <Button\r\n                        variant=\"outlined\"\r\n                        size=\"small\"\r\n                        onClick={() => handleEditClick(user)}\r\n                        sx={{\r\n                          borderColor: '#f2a365',\r\n                          color: '#f2a365',\r\n                          '&:hover': {\r\n                            backgroundColor: '#f2a365',\r\n                            color: '#2a2f4a',\r\n                          },\r\n                        }}\r\n                      >\r\n                        Редактировать\r\n                      </Button>\r\n                    )}\r\n                  </TableCell>\r\n                </TableRow>\r\n              );\r\n            })}\r\n          </TableBody>\r\n        </Table>\r\n      </TableContainer>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default AdminPanelUsers;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}