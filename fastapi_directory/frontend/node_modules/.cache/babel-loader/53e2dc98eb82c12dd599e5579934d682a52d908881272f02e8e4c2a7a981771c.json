{"ast":null,"code":"import React,{useState}from\"react\";import axios from\"axios\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function AuthPage(_ref){let{onLoginSuccess,onContinueAsGuest}=_ref;const[username,setUsername]=useState(\"\");const[password,setPassword]=useState(\"\");const[error,setError]=useState(null);const handleSubmit=async e=>{e.preventDefault();setError(null);try{// Login request\nconst response=await axios.post(\"\".concat(process.env.REACT_APP_API_BASE_URL||'/api',\"/auth/token\"),new URLSearchParams({username,password}),{headers:{'Content-Type':'application/x-www-form-urlencoded'}});const token=response.data.access_token;localStorage.setItem(\"access_token\",token);onLoginSuccess(token);}catch(err){var _err$response,_err$response$data;setError(((_err$response=err.response)===null||_err$response===void 0?void 0:(_err$response$data=_err$response.data)===null||_err$response$data===void 0?void 0:_err$response$data.detail)||\"Ошибка при входе\");}};return/*#__PURE__*/_jsxs(\"div\",{style:styles.container,children:[/*#__PURE__*/_jsx(\"h2\",{style:styles.title,children:\"\\u0412\\u0445\\u043E\\u0434\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,style:styles.form,children:[/*#__PURE__*/_jsx(\"input\",{id:\"username\",type:\"text\",placeholder:\"\\u0412\\u0432\\u0435\\u0434\\u0438\\u0442\\u0435 \\u0438\\u043C\\u044F \\u043F\\u043E\\u043B\\u044C\\u0437\\u043E\\u0432\\u0430\\u0442\\u0435\\u043B\\u044F\",value:username,onChange:e=>setUsername(e.target.value),required:true,style:styles.input,autoComplete:\"username\"}),/*#__PURE__*/_jsx(\"input\",{id:\"password\",type:\"password\",placeholder:\"\\u0412\\u0432\\u0435\\u0434\\u0438\\u0442\\u0435 \\u043F\\u0430\\u0440\\u043E\\u043B\\u044C\",value:password,onChange:e=>setPassword(e.target.value),required:true,style:styles.input,autoComplete:\"current-password\"}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",style:styles.button,children:\"\\u0412\\u043E\\u0439\\u0442\\u0438\"})]}),error&&/*#__PURE__*/_jsx(\"div\",{style:styles.error,children:error}),/*#__PURE__*/_jsx(\"button\",{onClick:onContinueAsGuest,style:styles.guestButton,children:\"\\u041F\\u0440\\u043E\\u0434\\u043E\\u043B\\u0436\\u0438\\u0442\\u044C \\u0431\\u0435\\u0437 \\u0430\\u0432\\u0442\\u043E\\u0440\\u0438\\u0437\\u0430\\u0446\\u0438\\u0438\"})]});}const styles={container:{maxWidth:400,margin:\"50px auto\",padding:30,borderRadius:10,textAlign:\"center\",fontFamily:\"Arial, sans-serif\",backgroundColor:\"#2a2f4a\",border:\"1px solid #f2a365\",boxShadow:\"0 4px 12px rgba(242, 163, 101, 0.4)\"},title:{marginBottom:20,fontWeight:\"bold\",fontSize:24,color:\"#f2a365\"},form:{display:\"flex\",flexDirection:\"column\",gap:20,marginBottom:15},input:{padding:14,fontSize:18,borderRadius:8,border:\"1px solid #84a59d\",outline:\"none\",transition:\"border-color 0.3s, box-shadow 0.3s\",backgroundColor:\"#1b1f33\",color:\"#eaeaea\",boxShadow:\"inset 0 0 5px rgba(132, 165, 157, 0.5)\"},button:{padding:14,fontSize:18,cursor:\"pointer\",borderRadius:8,border:\"none\",backgroundColor:\"#f2a365\",color:\"#2a2f4a\",fontWeight:\"700\",transition:\"background-color 0.3s, box-shadow 0.3s\",boxShadow:\"0 4px 8px rgba(242, 163, 101, 0.6)\"},guestButton:{marginTop:20,padding:14,fontSize:18,cursor:\"pointer\",borderRadius:8,border:\"1px solid #f2a365\",backgroundColor:\"#2a2f4a\",color:\"#f2a365\",fontWeight:\"700\",transition:\"background-color 0.3s, box-shadow 0.3s\",boxShadow:\"0 4px 8px rgba(242, 163, 101, 0.6)\"},error:{marginTop:10,color:\"#ff6b6b\",fontWeight:\"700\"}};export default AuthPage;","map":{"version":3,"names":["React","useState","axios","jsx","_jsx","jsxs","_jsxs","AuthPage","_ref","onLoginSuccess","onContinueAsGuest","username","setUsername","password","setPassword","error","setError","handleSubmit","e","preventDefault","response","post","concat","process","env","REACT_APP_API_BASE_URL","URLSearchParams","headers","token","data","access_token","localStorage","setItem","err","_err$response","_err$response$data","detail","style","styles","container","children","title","onSubmit","form","id","type","placeholder","value","onChange","target","required","input","autoComplete","button","onClick","guestButton","maxWidth","margin","padding","borderRadius","textAlign","fontFamily","backgroundColor","border","boxShadow","marginBottom","fontWeight","fontSize","color","display","flexDirection","gap","outline","transition","cursor","marginTop"],"sources":["C:/Project/Errors/fastapi_directory/frontend/src/components/AuthPage.js"],"sourcesContent":["import React, { useState } from \"react\";\r\nimport axios from \"axios\";\r\n\r\nfunction AuthPage({ onLoginSuccess, onContinueAsGuest }) {\r\n  const [username, setUsername] = useState(\"\");\r\n  const [password, setPassword] = useState(\"\");\r\n  const [error, setError] = useState(null);\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    setError(null);\r\n    try {\r\n      // Login request\r\n      const response = await axios.post(\r\n        `${process.env.REACT_APP_API_BASE_URL || '/api'}/auth/token`, \r\n        new URLSearchParams({ username, password }), \r\n        {\r\n          headers: {\r\n            'Content-Type': 'application/x-www-form-urlencoded',\r\n          },\r\n        }\r\n      );\r\n      const token = response.data.access_token;\r\n      localStorage.setItem(\"access_token\", token);\r\n      onLoginSuccess(token);\r\n    } catch (err) {\r\n      setError(err.response?.data?.detail || \"Ошибка при входе\");\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div style={styles.container}>\r\n      <h2 style={styles.title}>Вход</h2>\r\n      <form onSubmit={handleSubmit} style={styles.form}>\r\n        <input\r\n          id=\"username\"\r\n          type=\"text\"\r\n          placeholder=\"Введите имя пользователя\"\r\n          value={username}\r\n          onChange={(e) => setUsername(e.target.value)}\r\n          required\r\n          style={styles.input}\r\n          autoComplete=\"username\"\r\n        />\r\n        <input\r\n          id=\"password\"\r\n          type=\"password\"\r\n          placeholder=\"Введите пароль\"\r\n          value={password}\r\n          onChange={(e) => setPassword(e.target.value)}\r\n          required\r\n          style={styles.input}\r\n          autoComplete=\"current-password\"\r\n        />\r\n        <button type=\"submit\" style={styles.button}>\r\n          Войти\r\n        </button>\r\n      </form>\r\n      {error && <div style={styles.error}>{error}</div>}\r\n      <button onClick={onContinueAsGuest} style={styles.guestButton}>\r\n        Продолжить без авторизации\r\n      </button>\r\n    </div>\r\n  );\r\n}\r\n\r\nconst styles = {\r\n  container: {\r\n    maxWidth: 400,\r\n    margin: \"50px auto\",\r\n    padding: 30,\r\n    borderRadius: 10,\r\n    textAlign: \"center\",\r\n    fontFamily: \"Arial, sans-serif\",\r\n    backgroundColor: \"#2a2f4a\",\r\n    border: \"1px solid #f2a365\",\r\n    boxShadow: \"0 4px 12px rgba(242, 163, 101, 0.4)\",\r\n  },\r\n  title: {\r\n    marginBottom: 20,\r\n    fontWeight: \"bold\",\r\n    fontSize: 24,\r\n    color: \"#f2a365\",\r\n  },\r\n  form: {\r\n    display: \"flex\",\r\n    flexDirection: \"column\",\r\n    gap: 20,\r\n    marginBottom: 15,\r\n  },\r\n  input: {\r\n    padding: 14,\r\n    fontSize: 18,\r\n    borderRadius: 8,\r\n    border: \"1px solid #84a59d\",\r\n    outline: \"none\",\r\n    transition: \"border-color 0.3s, box-shadow 0.3s\",\r\n    backgroundColor: \"#1b1f33\",\r\n    color: \"#eaeaea\",\r\n    boxShadow: \"inset 0 0 5px rgba(132, 165, 157, 0.5)\",\r\n  },\r\n  button: {\r\n    padding: 14,\r\n    fontSize: 18,\r\n    cursor: \"pointer\",\r\n    borderRadius: 8,\r\n    border: \"none\",\r\n    backgroundColor: \"#f2a365\",\r\n    color: \"#2a2f4a\",\r\n    fontWeight: \"700\",\r\n    transition: \"background-color 0.3s, box-shadow 0.3s\",\r\n    boxShadow: \"0 4px 8px rgba(242, 163, 101, 0.6)\",\r\n  },\r\n  guestButton: {\r\n    marginTop: 20,\r\n    padding: 14,\r\n    fontSize: 18,\r\n    cursor: \"pointer\",\r\n    borderRadius: 8,\r\n    border: \"1px solid #f2a365\",\r\n    backgroundColor: \"#2a2f4a\",\r\n    color: \"#f2a365\",\r\n    fontWeight: \"700\",\r\n    transition: \"background-color 0.3s, box-shadow 0.3s\",\r\n    boxShadow: \"0 4px 8px rgba(242, 163, 101, 0.6)\",\r\n  },\r\n  error: {\r\n    marginTop: 10,\r\n    color: \"#ff6b6b\",\r\n    fontWeight: \"700\",\r\n  },\r\n};\r\n\r\nexport default AuthPage;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}